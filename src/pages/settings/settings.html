<ion-header>
  <ion-navbar color="{{this.settings.accentColor}}">
    <ion-title>{{ 'Settings' | translate }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="!settings.isConnected">
    <ion-card-content>
      <ion-card-title>
        {{ 'Account' | translate }}
      </ion-card-title>
      <p>
        {{ 'You are not connected to a Workizy account. Sign in now to enable synchronization between your devices !' | translate }}
      </p>
    </ion-card-content>
    <ion-item>
      <button color="{{this.settings.accentColor}}" (click)="signIn()" ion-button icon-start clear item-end>
        <ion-icon name="log-in"></ion-icon>
        {{ 'Sign In' | translate }}
      </button>
    </ion-item>
  </ion-card>
  <ion-card *ngIf="settings.isConnected">
    <ion-card-content>
      <ion-card-title>
        {{ 'Account' | translate }}
      </ion-card-title>
      <p>
        {{ 'Hi ' | translate }}{{settings.user.displayName}}<br>
        {{ 'You are connected to the following Workizy account : ' | translate }}{{settings.user.email}}
      </p>
    </ion-card-content>
    <ion-item>
      <button color="{{this.settings.accentColor}}" (click)="logout()" ion-button icon-start clear item-end>
        <ion-icon name="log-out"></ion-icon>
        {{ 'Log Out' | translate }}
      </button>
    </ion-item>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-card-title>
        {{ 'Appearance' | translate }}
      </ion-card-title>
      <ion-item>
        <ion-label>{{ 'Dark Theme' | translate }}</ion-label>
        <ion-toggle disabled [(ngModel)]="darkTheme" checked="false"></ion-toggle>
      </ion-item>
      <ion-item>
        <ion-label>{{ 'Accent color' | translate }}</ion-label>
      </ion-item>
      <button ion-button round color="primary" (click)="setAccentColor('primary')"><ion-icon *ngIf="settings.accentColor == 'primary'" name="checkmark"></ion-icon></button>
      <button ion-button round color="amber" (click)="setAccentColor('amber')"><ion-icon *ngIf="settings.accentColor == 'amber'" name="checkmark"></ion-icon></button>
      <button ion-button round color="teal" (click)="setAccentColor('teal')"><ion-icon *ngIf="settings.accentColor == 'teal'" name="checkmark"></ion-icon></button>
      <button ion-button round color="red" (click)="setAccentColor('red')"><ion-icon *ngIf="settings.accentColor == 'red'" name="checkmark"></ion-icon></button>
    </ion-card-content>
    <ion-item>
      <button color="{{this.settings.accentColor}}" disabled (click)="applyTheme()" ion-button icon-start clear item-end>
        <ion-icon name="save"></ion-icon>
        {{ 'Apply' | translate }}
      </button>
    </ion-item>
  </ion-card>
</ion-content>
